{% extends 'base.html.twig' %}

{% block title %}API{% endblock %}

{% block body %}
{#
    <article>
        <h2>Endpoints Disponibles</h2>
        <ul>
            <li><code></code></li>
            <li><code></code></li>
            <li><code></code></li>
            <x
#}
    {% if formSearch is defined %}
        <section class="container text-center" id="search_serie">
            <h1 class="mb-5">Bienvenue sur {{ api.name }}</h1>


            {{ form_start(formSearch, {
                'attr': {
                    'class': 'form-group',
                    'novalidate': 'novalidate'
                }}) }}
            {{ form_label(formSearch.searchSerie) }}
            {{ form_widget(formSearch.searchSerie) }}
            {{ form_end(formSearch) }}
        </section>

        {% if bugReport is defined %}
            <section class="container text-center" id="bug_report">
                {% include '_bug_report_form.html.twig' %}
            </section>
        {% endif %}
    {% endif %}

    {% if programs is defined %}
        <section class="container" id="get_program_title">

            <h2>Résultat de la recherche</h2>

            <article class="row">
                {% for result in programs.results %}
                    <a href="">
                        <figure class="col-md-4 col-lg-3">
                            <figcaption>{{ result.title }}</figcaption>
                            <img src="{{ result.image }}" alt="">
                        </figure>
                    </a>
                {% else %}
                    Aucune série trouvée
                {% endfor %}
            </article>
        </section>
    {% endif %}


    <section class="container d-flex justify-content-between">
        <a href="{{ path('api_index') }}">Retour aux APIs</a>
        <a href="{{ path('explorer_index') }}">Retour à l'accueil</a>
    </section>
{% endblock %}
